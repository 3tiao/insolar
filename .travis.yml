language: go

# Faster container-based builds
sudo: false

go:
  - "1.10.x"

jobs:
  include:
    - stage: "test"
      script: "go test -v --race ./..."
    - stage: "lint"
      before_script:
        - "go get -u -v github.com/alecthomas/gometalinter"
        - "gometalinter --install"
      script: "gometalinter --vendor ./..."
