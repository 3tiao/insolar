language: go

# Faster container-based builds
sudo: false

go:
  - "1.10.x"
  - "1.11.x"

before_install:
  - "go get -u github.com/golang/dep/cmd/dep"
install:
  - "dep ensure"
script:
  - "go test --race --coverprofile=coverage.txt --covermode=atomic ./..."
  - "go build -o insolar cmd/insolar/*"
after_success:
  - "bash <(curl -s https://codecov.io/bash)"
